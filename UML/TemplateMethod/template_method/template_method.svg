<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="265px" preserveAspectRatio="none" style="width:745px;height:265px;" version="1.1" viewBox="0 0 745 265" width="745px" zoomAndPan="magnify"><defs><filter height="300%" id="f26jr4939club" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[9536a87e044ce6588050cb9af3778782]
class Coffee--><rect fill="#FEFECE" filter="url(#f26jr4939club)" height="48" id="Coffee" style="stroke: #A80036; stroke-width: 1.5;" width="69" x="8.5" y="200.5"/><ellipse cx="23.5" cy="216.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M25.9731,222.6431 Q25.3921,222.9419 24.7529,223.0913 Q24.1138,223.2407 23.4082,223.2407 Q20.9014,223.2407 19.5815,221.5889 Q18.2617,219.937 18.2617,216.8159 Q18.2617,213.6865 19.5815,212.0347 Q20.9014,210.3828 23.4082,210.3828 Q24.1138,210.3828 24.7612,210.5322 Q25.4087,210.6816 25.9731,210.9805 L25.9731,213.7031 Q25.3423,213.1221 24.7488,212.8523 Q24.1553,212.5825 23.5244,212.5825 Q22.1797,212.5825 21.4949,213.6492 Q20.8101,214.7158 20.8101,216.8159 Q20.8101,218.9077 21.4949,219.9744 Q22.1797,221.041 23.5244,221.041 Q24.1553,221.041 24.7488,220.7712 Q25.3423,220.5015 25.9731,219.9204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="37" x="37.5" y="221.0352">Coffee</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="9.5" x2="76.5" y1="232.5" y2="232.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="9.5" x2="76.5" y1="240.5" y2="240.5"/><!--MD5=[0b3edc23e1a3ca9b28761b6b7fb11702]
class CoffeineBeverage--><rect fill="#FEFECE" filter="url(#f26jr4939club)" height="125.7305" id="CoffeineBeverage" style="stroke: #A80036; stroke-width: 1.5;" width="248" x="6" y="8"/><ellipse cx="75.75" cy="24" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M75.8633,19.5981 L74.7095,24.6699 L77.0254,24.6699 Z M74.3691,17.3569 L77.3657,17.3569 L80.7109,29.75 L78.2622,29.75 L77.4985,26.687 L74.2197,26.687 L73.4727,29.75 L71.0239,29.75 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="100" x="96.25" y="28.5352">CoffeineBeverage</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="253" y1="40" y2="40"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="253" y1="48" y2="48"/><ellipse cx="17" cy="59" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="110" x="26" y="62.6348">void PrepareRecipe()</text><polygon fill="#FFFF44" points="17,66.9551,21,70.9551,17,74.9551,13,70.9551" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="59" x="26" y="75.5898">void Brew()</text><polygon fill="#FFFF44" points="17,79.9102,21,83.9102,17,87.9102,13,83.9102" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="121" x="26" y="88.5449">void AddCondiments()</text><polygon fill="#FFFF44" points="17,92.8652,21,96.8652,17,100.8652,13,96.8652" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="222" x="26" y="101.5">virtual bool CustomerWantsCondiments()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="107.8203"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="26" y="114.4551">void _BoilWater()</text><rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="14" y="120.7754"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="26" y="127.4102">void _PourInCup()</text><!--MD5=[8252cd18dac1d78ee96cce0ec9ed80fb]
class Tea--><rect fill="#FEFECE" filter="url(#f26jr4939club)" height="60.9551" id="Tea" style="stroke: #A80036; stroke-width: 1.5;" width="211" x="112.5" y="194"/><ellipse cx="202.75" cy="210" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M205.2231,216.1431 Q204.6421,216.4419 204.0029,216.5913 Q203.3638,216.7407 202.6582,216.7407 Q200.1514,216.7407 198.8315,215.0889 Q197.5117,213.437 197.5117,210.3159 Q197.5117,207.1865 198.8315,205.5347 Q200.1514,203.8828 202.6582,203.8828 Q203.3638,203.8828 204.0112,204.0322 Q204.6587,204.1816 205.2231,204.4805 L205.2231,207.2031 Q204.5923,206.6221 203.9988,206.3523 Q203.4053,206.0825 202.7744,206.0825 Q201.4297,206.0825 200.7449,207.1492 Q200.0601,208.2158 200.0601,210.3159 Q200.0601,212.4077 200.7449,213.4744 Q201.4297,214.541 202.7744,214.541 Q203.4053,214.541 203.9988,214.2712 Q204.5923,214.0015 205.2231,213.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="22" x="223.25" y="214.5352">Tea</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="113.5" x2="322.5" y1="226" y2="226"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="113.5" x2="322.5" y1="234" y2="234"/><polygon fill="#FFFF44" points="123.5,240,127.5,244,123.5,248,119.5,244" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="132.5" y="248.6348">bool CustomerWantsCondiments()</text><path d="M289,27.5 L289,67 L254.27,71 L289,75 L289,114.0527 A0,0 0 0 0 289,114.0527 L733,114.0527 A0,0 0 0 0 733,114.0527 L733,37.5 L723,27.5 L289,27.5 A0,0 0 0 0 289,27.5 " fill="#FBFB77" filter="url(#f26jr4939club)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M723,27.5 L723,37.5 L733,37.5 L723,27.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="308" x="295" y="45.0684">アルゴリズム自体はPrepareRecipeに内包されている</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="423" x="295" y="60.3789">Brew/AddCondimentsの抽象メソッドをサブクラスで実装することで、</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="364" x="295" y="75.6895">カプセル化したアルゴリズムを正しく振舞うようになっている</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="377" x="295" y="91">また、仮想メソッドをオーバーライドすることでアルゴリズムを</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="312" x="295" y="106.3105">サブクラス側から変更できるようにフックされている</text><!--MD5=[2b3bf543db81cc95c7239af7a30201ff]
reverse link CoffeineBeverage to Coffee--><path d="M84.35,151.5 C74.09,169.36 63.99,186.95 56.34,200.26 " fill="none" id="CoffeineBeverage&lt;-Coffee" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="78.33,147.92,94.36,134.06,90.47,154.89,78.33,147.92" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[48c7ec7813d2670509a3335df5af348d]
reverse link CoffeineBeverage to Tea--><path d="M176.25,151.62 C184.96,166.63 193.56,181.43 200.67,193.66 " fill="none" id="CoffeineBeverage&lt;-Tea" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="170.04,154.87,166.05,134.06,182.15,147.84,170.04,154.87" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[748518e2eea36a8d2e396d03e98d0d7c]
@startuml

Coffee -up-|> CoffeineBeverage
Tea -up-|> CoffeineBeverage

abstract class CoffeineBeverage {
    + void PrepareRecipe()
    # {abstract} void Brew()
    # {abstract} void AddCondiments()
    # virtual bool CustomerWantsCondiments()
    - void _BoilWater()
    - void _PourInCup()
}

class Coffee {
}

class Tea {
    # bool CustomerWantsCondiments()
}

note right of CoffeineBeverage
    アルゴリズム自体はPrepareRecipeに内包されている
    Brew/AddCondimentsの抽象メソッドをサブクラスで実装することで、
    カプセル化したアルゴリズムを正しく振舞うようになっている
    また、仮想メソッドをオーバーライドすることでアルゴリズムを
    サブクラス側から変更できるようにフックされている
end note
@enduml

PlantUML version 1.2020.10(Sun May 17 18:35:57 JST 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 11.0.1+13-LTS
Operating System: Mac OS X
Default Encoding: UTF-8
Language: ja
Country: JP
--></g></svg>